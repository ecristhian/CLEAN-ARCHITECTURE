{"version":3,"sources":["core/Obj.js"],"names":[],"mappings":";;;;;;;;;;AAIA;;;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;IAaqB,G;;;;;;;;;;AASnB,iBAAc;AAAA;;AACZ,WAAO,cAAP,CAAsB,IAAtB,EAA4B,WAA5B,EAAyC;AACvC,aAAO,IADgC;AAEvC,gBAAU,IAF6B;AAGvC,kBAAY,KAH2B;AAIvC,oBAAc;AAJyB,KAAzC;AAMA,SAAK,kBAAL;AACD;;;;;;;;;;;;;oCAUe;AACd,UAAI,CAAC,KAAK,WAAV,EAAuB;AACrB,aAAK,kBAAL;AACD;AACD,aAAO,KAAK,WAAZ;AACD;;;;;;;;;;;;;0BAWK,I,EAAM;AACV,UAAM,cAAc,KAAK,WAAzB;AACA,UAAM,cAAc,IAAI,WAAJ,EAApB;AACA,uBAAE,KAAF,CAAQ,IAAR,EAAc,UAAC,GAAD,EAAM,KAAN,EAAgB;AAC5B,YAAI,CAAC,iBAAE,UAAF,CAAa,KAAb,CAAL,EAA0B;AACxB,cAAI,IAAJ,EAAU;AACR,wBAAY,GAAZ,IAAmB,IAAI,KAAJ,CAAU,KAAV,EAAiB,IAAjB,CAAnB;AACD,WAFD,MAEO;AACL,wBAAY,GAAZ,IAAmB,KAAnB;AACD;AACF;AACF,OARD;AASA,aAAO,WAAP;AACD;;;;;;;;;;;;;;2BAYM,K,EAAO;AACZ,aAAO,iBAAE,GAAF,CAAM,KAAN,EAAa,aAAb,MAAgC,KAAK,aAAL,EAAvC;AACD;;;;;;;;;;;;;+BAWU;AACT,UAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,aAAK,SAAL,GAAiB,gBAAK,IAAL,CAAjB;AACD;AACD,aAAO,KAAK,SAAZ;AACD;;;;;;;;;;;;yCAUoB;AACnB,0BAAS,IAAT;AACD;;;;;;;;;;kBAlGkB,G;AA0GrB,oBAAU,GAAV;AACA,oBAAU,GAAV;AACA,oBAAU,GAAV","file":"core/Obj.js","sourcesContent":["//-------------------------------------------------------------------------------\n// Imports\n//-------------------------------------------------------------------------------\n\nimport _ from 'lodash';\nimport { ensureId, hash } from '../util';\nimport { implement } from './fns';\nimport { IClone, IEquals, IHashCode } from './interfaces';\n\n\n//-------------------------------------------------------------------------------\n// Declare Class\n//-------------------------------------------------------------------------------\n\n/**\n * @class\n * @implements {IClone}\n * @implements {IEquals}\n * @implements {IHashCode}\n */\nexport default class Obj {\n\n  //-------------------------------------------------------------------------------\n  // Constructor\n  //-------------------------------------------------------------------------------\n\n  /**\n   * @constructs\n   */\n  constructor() {\n    Object.defineProperty(this, '_hashCode', {\n      value: null,\n      writable: true,\n      enumerable: false,\n      configurable: false\n    });\n    this.generateInternalId();\n  }\n\n\n  //-------------------------------------------------------------------------------\n  // Getters and Setters\n  //-------------------------------------------------------------------------------\n\n  /**\n   * @return {number}\n   */\n  getInternalId() {\n    if (!this._internalId) {\n      this.generateInternalId();\n    }\n    return this._internalId;\n  }\n\n\n  //-------------------------------------------------------------------------------\n  // IClone Implementation\n  //-------------------------------------------------------------------------------\n\n  /**\n   * @param {boolean=} deep\n   * @return {*}\n   */\n  clone(deep) {\n    const constructor = this.constructor;\n    const cloneObject = new constructor();\n    _.forIn(this, (key, value) => {\n      if (!_.isFunction(value)) {\n        if (deep) {\n          cloneObject[key] = Obj.clone(value, deep);\n        } else {\n          cloneObject[key] = value;\n        }\n      }\n    });\n    return cloneObject;\n  }\n\n\n  //-------------------------------------------------------------------------------\n  // IEquals Implementation\n  //-------------------------------------------------------------------------------\n\n  /**\n   * If two Objs are equal then they MUST return the same hashCode. Otherwise the world will end!\n   * @param {*} value\n   * @return {boolean}\n   */\n  equals(value) {\n    return _.get(value, '_internalId') === this.getInternalId();\n  }\n\n\n  //-------------------------------------------------------------------------------\n  // IHashCode Implementation\n  //-------------------------------------------------------------------------------\n\n  /**\n   * Equal hash codes do not necessarily guarantee equality.\n   * @return {number}\n   */\n  hashCode() {\n    if (!this._hashCode) {\n      this._hashCode = hash(this);\n    }\n    return this._hashCode;\n  }\n\n\n  //-------------------------------------------------------------------------------\n  // Protected Methods\n  //-------------------------------------------------------------------------------\n\n  /**\n   * @protected\n   */\n  generateInternalId() {\n    ensureId(this);\n  }\n}\n\n\n//-------------------------------------------------------------------------------\n// Interfaces\n//-------------------------------------------------------------------------------\n\nimplement(Obj, IClone);\nimplement(Obj, IEquals);\nimplement(Obj, IHashCode);\n"],"sourceRoot":"/source/"}